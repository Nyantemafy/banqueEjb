CompteDepot .NET - Version Simple pour Débutant
🎯 Principe de base WCF (.NET) :

WCF = Windows Communication Foundation : comme EJB mais pour .NET
[ServiceContract] = Interface que d'autres applications peuvent utiliser
[OperationContract] = Méthodes qu'on peut appeler à distance
Entity Framework = Pour parler à la base de données (comme JPA en Java)

Structure ultra-simple
CompteDepot/
├── CompteDepot.sln (Solution)
├── CompteDepot.Simple/
│   ├── CompteDepot.Simple.csproj
│   ├── Program.cs (Point d'entrée)
│   ├── Models/
│   │   ├── CompteDepot.cs (Table base)
│   │   └── OperationDepot.cs (Historique)
│   ├── Services/
│   │   ├── ICompteDepotService.cs (Interface)
│   │   └── CompteDepotService.cs (Implémentation)
│   └── Data/
│       └── BanqueContext.cs (Base de données)

Comment tester :
1. Dans VSCode :
bash# Créer la solution
dotnet new sln -n CompteDepot

# Créer le projet
dotnet new console -n CompteDepot.Simple

# Ajouter les packages
dotnet add CompteDepot.Simple package Microsoft.EntityFrameworkCore.InMemory
dotnet add CompteDepot.Simple package System.ServiceModel.Http
dotnet add CompteDepot.Simple package System.ServiceModel.Primitives

# Compiler et lancer
dotnet run --project CompteDepot.Simple
2. Le service va :

✅ Créer 2 comptes de test (DEP001, DEP002)
✅ Démarrer le service WCF sur http://localhost:8081/CompteDepot
✅ Faire des tests automatiques
✅ Attendre que tu appuies sur ENTRÉE pour arrêter

3. Tu verras dans la console :
🏦 === Service CompteDepot Simple ===
✅ Base de données initialisée
📊 2 comptes de test chargés:
   - CompteDepot DEP001 - Jean Dupont - 5 000,00 €
   - CompteDepot DEP002 - Marie Martin - 10 000,00 €

🚀 Démarrage du service WCF...
✅ Service WCF démarré !
📍 Adresse: http://localhost:8081/CompteDepot
📄 WSDL: http://localhost:8081/CompteDepot/wsdl

💡 Points clés à retenir :

[ServiceContract] = Interface WCF (comme @Remote EJB)
[OperationContract] = Méthodes appelables à distance
DbContext = Connexion base de données (.NET équivalent d'EntityManager)
ServiceHost = Hébergeur du service WCF
BasicHttpBinding = Protocole de communication HTTP simple

C'est exactement le même principe qu'EJB, mais en .NET ! Simple et efficace ! 😊


🎯 Les différences avec EJB :
Java EJB vs .NET WCF
Java EJB.NET WCF@Remote[ServiceContract]@StatelessService normalEntityManagerDbContext@PersistenceContextusing var context = new...
Principe identique :

Interface → Ce qu'on peut appeler à distance
Implémentation → Le code qui fait le travail
Entités → Tables de base de données
Host/Serveur → Héberge le service

🚀 Pour tester rapidement :
bash# Dans le dossier CompteDepot
dotnet new console -n CompteDepot.Simple
cd CompteDepot.Simple

# Ajouter les packages essentiels
dotnet add package Microsoft.EntityFrameworkCore.InMemory
dotnet add package System.ServiceModel.Http

# Copier le code, puis :
dotnet run
🧪 Le service va :

Créer 2 comptes de test automatiquement
Démarrer sur http://localhost:8081/CompteDepot
Faire des tests automatiques pour montrer que ça marche
Afficher toutes les opérations dans la console

💭 Avantages de cette version simple :

✅ Base en mémoire → Pas besoin de SQL Server
✅ Tests automatiques → Tu vois que ça marche
✅ Logs détaillés → Tu comprends ce qui se passe
✅ Code minimal → Juste l'essentiel

Maintenant tu as les 2 services de base ! Le prochain sera l'application principale qui va utiliser les deux. Tu veux la faire maintenant ou tu préfères tester ces deux services d'abord ?